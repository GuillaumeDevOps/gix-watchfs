name: watchfs
version: git
version-script: ./get_version.sh
summary: Filesystem watcher
description: |
  Watch for file changes and run given commands when change is detected.
  See https://github.com/prateekkumarweb/watchfs for more info.
type: app
grade: stable
confinement: strict

parts:
  watchfs:
    plugin: nodejs
    source: .
    node-engine: 10.14.2
    override-build: |
      rm -rf node_modules
      rm -rf dist
      npm install
      npm build

apps:
  watchfs:
    command: node dist/cli.js
    plugs: [home]
